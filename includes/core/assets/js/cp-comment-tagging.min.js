var CommentPress_Comments_Tagging=CommentPress_Comments_Tagging||{};CommentPress_Comments_Tagging.settings=new function(){jQuery.noConflict(),this.set_group_id=function(e){this.group_id=e},this.get_group_id=function(){return this.group_id}},CommentPress_Comments_Tagging.comments=new function(){var e=this;jQuery.noConflict(),this.init=function(){},this.dom_ready=function(){e.select2.init(),e.select2.listeners()}},CommentPress_Comments_Tagging.comments.select2=new function(){var e=this,t=jQuery.noConflict();this.init=function(){t(".comment_tagger_select2").select2({tags:!0,tokenSeparators:[","],multiple:!0,dropdownParent:t(".comment_tagger_select2_container")})},this.listeners=function(){t(document).on("commentpress-ajax-comment-added",function(t,n){e.reset()}),t(document).on("commentpress-ajax-comment-callback",function(n,m){m.id&&(m.comment_tagger_tags?e.configure(m.comment_tagger_tags):e.reset(),t("#comment-"+m.id+" .comment_tagger_tags").hide())}),t(document).on("commentpress-ajax-comment-edited",function(e,n){n.id&&n.comment_tagger_markup&&t("#comment-"+n.id+" .comment_tagger_tags").replaceWith(n.comment_tagger_markup)}),t(document).on("commentpress-commentform-moved",function(t,n,m){e.reset()})},this.reset=function(){t(".comment_tagger_select2").val(null).trigger("change"),t(".comment_tagger_tags").show()},this.configure=function(e){var n,m=[],o=t(".comment_tagger_select2");t.each(e,function(e,t){m.push(t.id)}),t.each(e,function(e,t){o.find("option[value='"+t.id+"']").length||(n=new Option(t.name,t.id,!0,!0),o.append(n))}),o.val(m).trigger("change")}},CommentPress_Comments_Tagging.comments.init(),jQuery(document).ready(function(e){CommentPress_Comments_Tagging.comments.dom_ready()});
