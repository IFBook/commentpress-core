!function(e){function t(e){var t,i=e;try{for(t=e.previousSibling;t&&1!=t.nodeType;)i=t,t=t.previousSibling}catch(n){return console.log(n),topOffset=-15,i}return t?t:i}e.event.special.tripleclick={setup:function(){var e=this,t=jQuery(e);t.on("click",jQuery.event.special.tripleclick.handler)},teardown:function(){var e=this,t=jQuery(e);t.off("click",jQuery.event.special.tripleclick.handler)},handler:function(e){var t=this,i=jQuery(t),n=i.data("clicks")||0;n+=1,3===n&&(n=0,e.type="tripleclick",jQuery.event.dispatch.apply(this,arguments)),i.data("clicks",n)}};var i=!0,n="",o="";"1"==cp_is_touch&&"1"==cp_touch_testing&&(n=" touchstart.highlighter",o=" touchend.highlighter");var r={init:function(r){var c,s=e.extend({selector:".highlighter-container",minWords:0,complete:function(){}},r),l=0,h=0,a=0,u=!1;return this.each(function(){function r(n){if(i!==!1){var o="<span class='dummy'></span>";if(h=0,a=0,l===n){var r,u,f,d,p="Microsoft Internet Explorer"===navigator.appName;if(window.getSelection){if(r=window.getSelection(),c=r.toString(),""===c.trim()||c.split(" ").length<s.minWords)return;if(r.getRangeAt&&r.rangeCount){u=window.getSelection().getRangeAt(0),f=u.cloneRange(),f.collapse(!1);var m=document.createElement("div");m.innerHTML=o;var g=document.createElement("span");if(0===u.startOffset&&0===u.endOffset){var y=f.startContainer,v=t(y);try{f.selectNode(v.lastChild)}catch(k){a=40,h=-15,f.selectNode(v)}f.collapse(!1)}else 0===u.endOffset&&(h=-25,a=40);if(l!==n)return;e(s.selector).hide(),!p&&f.startContainer.innerText&&c.trim()===f.startContainer.innerText.trim()?(f.startContainer.innerHTML+="<span class='dummy'>&nbsp;</span>",d=e(".dummy").offset(),e(".dummy").remove()):!p&&f.endContainer.innerText&&c.trim()===f.endContainer.innerText.trim()?(f.endContainer.innerHTML+="<span class='dummy'>&nbsp;</span>",d=e(".dummy").offset(),e(".dummy").remove()):(f.insertNode(g),d=e(g).offset(),g.parentNode.removeChild(g))}}else if(document.selection&&document.selection.createRange){if(u=document.selection.createRange(),f=u.duplicate(),c=f.text,""===c.trim()||c.split(" ").length<s.minWords)return;u.collapse(!1),u.pasteHTML(o),f.setEndPoint("EndToEnd",u),f.select(),d=e(".dummy").offset(),e(".dummy").remove()}e(s.selector).css("top",d.top+h+"px"),e(s.selector).css("left",d.left+a+"px"),e(s.selector).show(300,function(){s.complete(c)})}}}e(s.selector).hide(),e(s.selector).css("position","absolute"),e(document).on("mouseup.highlighter"+o,function(){u&&(l=1,clicks=0,setTimeout(function(){r(1)},300),u=!1)}),e(this).on("mouseup.highlighter"+o,function(){l=1,clicks=0,setTimeout(function(){r(1)},300)}),e(this).on("tripleclick.highlighter",function(){l=3,setTimeout(function(){r(3)},200)}),e(this).on("dblclick.highlighter",function(){l=2,setTimeout(function(){r(2)},300)}),e(this).on("mousedown.highlighter"+n,function(){e(s.selector).hide(),u=!0})})},enable:function(){i=!0},disable:function(){i=!1},destroy:function(){return this.each(function(){e(document).off("mouseup.highlighter"+o),e(this).off("mouseup.highlighter"+o),e(this).off("tripleclick.highlighter"),e(this).off("dblclick.highlighter"),e(this).off("mousedown.highlighter"+n)})}};e.fn.highlighter=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.highlighter"):r.init.apply(this,arguments)}}(jQuery);
