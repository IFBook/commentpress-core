var cp_header_height,cp_header_animating,cp_toc_on_top,page_highlight,cp_header_minimised,cp_sidebar_minimised,cp_container_top_max,cp_container_top_min;cp_header_height=70;cp_header_animating=false;page_highlight=false;if(cp_bp_adminbar=="y"){cp_wp_adminbar_height=25;cp_wp_adminbar="y"}if(cp_wp_adminbar=="y"){}CommentPress.theme={};CommentPress.theme.DOM=new function(){var a=this;this.init=function(){a.head()};this.head=function(){var c,d,e,b;c="";if(document.getElementById){c+='<style type="text/css" media="screen">';if(cp_is_mobile=="0"){if(cp_textblock_meta=="0"){c+="#content .textblock span.para_marker, #content .textblock span.commenticonbox { display: none; } ";c+=".content .textblock span.para_marker, .content .textblock span.commenticonbox { display: none; } "}}c+="ul.all_comments_listing div.item_body { display: none; } ";if(cp_wp_adminbar=="y"){c+="body.admin-bar #header, #header { top: "+cp_wp_adminbar_height+"px; } ";c+="body.admin-bar #sidebar, #sidebar, body.admin-bar #navigation, #navigation { top: "+(cp_wp_adminbar_height+cp_header_height)+"px; } ";if(cp_wp_adminbar_height=="32"){c+="@media screen and ( max-width: 782px ) { body.admin-bar #header, #header { top: "+cp_wp_adminbar_expanded+"px; }body.admin-bar #sidebar, #sidebar, body.admin-bar #navigation, #navigation { top: "+(cp_wp_adminbar_expanded+cp_header_height)+"px; } } "}}if(cp_show_subpages=="0"){c+="#toc_sidebar .sidebar_contents_wrapper ul li ul { display: none; } ";c+="#toc_sidebar .sidebar_contents_wrapper ul li.current_page_ancestor > ul { display: block; } "}if(cp_special_page=="0"){c+="#respond { display: none; } "}c+="#sidebar .paragraph_wrapper { display: none; } ";c+="#navigation .paragraph_wrapper { display: none; } ";c+="#sidebar .paragraph_wrapper.start_open { display: block; } ";c+="#navigation .paragraph_wrapper.start_open { display: block; } ";c+=".commentpress_page #navigation .paragraph_wrapper.special_pages_wrapper { display: block; } ";c+="#original .post, #literal .post { display: none; } ";c+="</style>"}document.write(c)}};CommentPress.theme.header=new function(){var a=this;this.init=function(){};this.get_offset=function(){var b;b=0-jQuery("#header").height()-jQuery("#sidebar_tabs").height();if(cp_wp_adminbar=="y"){b-=cp_wp_adminbar_height}return b}};CommentPress.theme.navigation=new function(){var a=this;this.init=function(){a.menu()};this.menu=function(){jQuery("#toc_sidebar").on("click","ul#nav li a",function(c){var b;b=jQuery(this).parent().find("ul");if(b.length>0){jQuery(this).next("ul").slideToggle();c.preventDefault()}})}};CommentPress.theme.content=new function(){var a=this;this.init=function(){a.tabs()};this.tabs=function(){var c,b;c=jQuery("#page_wrapper").css("min-height");b=jQuery("#page_wrapper").css("padding-bottom");jQuery("#literal .post").css("display","none");jQuery("#original .post").css("display","none");CommentPress.setup.content.workflow_tabs(c,b)}};CommentPress.theme.sidebars=new function(){var a=this;this.init=function(){a.enable_buttons();a.set_height()};this.set_height=function(){var g,i,f,b,c,e,d,j,h;g=jQuery(window).height();i=jQuery("#header").height();f=jQuery("#switcher").height();b=jQuery("#toc_sidebar > .sidebar_header").height();if(cp_wp_adminbar=="y"){c=jQuery("#wpadminbar").height()}else{c=0}e=g-(i+b+c);d=jQuery("#switcher").css("display");if(d==="block"){e=e-f}jQuery("#toc_sidebar .sidebar_contents_wrapper").css("height",e+"px");j=jQuery("#sidebar_tabs").height();h=g-(i+j+c);if(d==="block"){h=h-f}jQuery("#sidebar .sidebar_contents_wrapper").css("height",h+"px")};this.activate_sidebar=function(e){if(e=="comments"){if(!jQuery("body").hasClass("active-sidebar")||jQuery("body").hasClass("active-nav")){CommentPress.theme.sidebars.show_discuss()}}var c,d,b;c=jQuery("#"+e+"_sidebar").css("z-index");if(c=="2001"){jQuery(".sidebar_container").css("z-index","2001");jQuery("#sidebar_tabs h2 a").removeClass("active-tab");jQuery("#"+e+"_sidebar").css("z-index","2010");jQuery("#sidebar_tabs #"+e+"_header h2 a").addClass("active-tab")}};this.enable_buttons=function(){jQuery(".navigation-button").click(function(b){b.preventDefault();a.show_nav()});jQuery(".content-button").click(function(b){b.preventDefault();a.show_content()});jQuery(".sidebar-button").click(function(b){b.preventDefault();a.show_discuss()})};this.show_nav=function(){jQuery("body").toggleClass("active-nav").removeClass("active-sidebar");jQuery(".sidebar-button,.content-button").removeClass("active-button");jQuery(".navigation-button").toggleClass("active-button")};this.show_content=function(){jQuery("body").removeClass("active-sidebar").removeClass("active-nav");jQuery(".navigation-button,.sidebar-button").removeClass("active-button");jQuery(".content-button").toggleClass("active-button")};this.show_discuss=function(){jQuery("body").toggleClass("active-sidebar").removeClass("active-nav");jQuery(".navigation-button,.content-button").removeClass("active-button");jQuery(".sidebar-button").toggleClass("active-button")}};CommentPress.theme.viewport=new function(){var a=this;this.init=function(){a.track_resize();a.track_scrolling()};this.track_resize=function(){jQuery(window).resize(function(){CommentPress.theme.sidebars.set_height()})};this.track_scrolling=function(){jQuery(window).scroll(function(){var j,l,i,c,d,h,f,m,k,g,e,n,b;g=jQuery("#header");position=g.css("position");if(position=="absolute"){l=g.height();e=g.position();n=window.pageYOffset-(e.top+l);if(parseInt(n)>0){b=jQuery.px_to_num(jQuery("html body #content_container #sidebar").css("top"));if(b=="0"){return}jQuery("html body #content_container #sidebar,html body #content_container #navigation").css("top","0");j=jQuery(window).height();i=jQuery("#switcher").height();c=jQuery("#toc_sidebar > .sidebar_header").height();h=j-c;f=jQuery("#switcher").css("display");if(f==="block"){h=h-i}jQuery("#toc_sidebar .sidebar_contents_wrapper").css("height",h+"px");m=jQuery("#sidebar_tabs").height();k=j-m;if(f==="block"){k=k-i}jQuery("#sidebar .sidebar_contents_wrapper").css("height",k+"px")}else{if(cp_wp_adminbar=="y"){d=jQuery("#wpadminbar").height()}else{d=0}b=jQuery.px_to_num(jQuery("html body #content_container #sidebar").css("top"));if(b==l+d){return}jQuery("html body #content_container #sidebar,html body #content_container #navigation").css("top",(l+d)+"px");CommentPress.theme.sidebars.set_height()}}})};this.scroll_to_top=function(d,c){if(typeof d==="undefined"){return}var b;if(cp_is_mobile=="0"||cp_is_tablet=="1"){if(d==0){b=jQuery(".comments_container").prop("id");if(typeof b!=="undefined"){target_id=b.split("-")[1];d=jQuery("#post-"+target_id)}}jQuery.scrollTo(d,{duration:(c*1.5),axis:"y",offset:CommentPress.theme.header.get_offset()})}};this.on_load_scroll_to_anchor=function(){var k,e,f,j,l,b,i,g,d,c,h;k="";e=document.location.toString();if(e.match("#comment-")){CommentPress.theme.sidebars.activate_sidebar("comments");f=e.split("#comment-")[1];j=jQuery("#comment-"+f).parents("div.paragraph_wrapper").map(function(){return this});if(j.length>0){l=jQuery(j[0]);if(cp_comments_open=="y"){k=l.prop("id").split("-")[1];b=jQuery("#para_wrapper-"+k+" .reply_to_para").prop("id");i=b.split("-")[1];g=jQuery("#comment_post_ID").prop("value");if(cp_tinymce=="1"){if(jQuery("#comment-"+f+" > .reply").text()!==""){cp_tinymce="0";addComment.moveForm("comment-"+f,f,"respond",g,k);cp_tinymce="1"}}else{addComment.moveForm("comment-"+f,f,"respond",g,k)}}l.show();jQuery.scroll_comments(jQuery("#comment-"+f),1,"flash");if(k!==""){d=jQuery("#textblock-"+k);jQuery.highlight_para(d);jQuery.scroll_page(d)}else{if(page_highlight===false){CommentPress.theme.viewport.scroll_to_top(0,cp_scroll_speed)}page_highlight=!page_highlight}return}}else{jQuery("span.para_marker > a").each(function(p){var q,n,m,o,r;q=jQuery(this).prop("id");if(e.match("#"+q)||e.match("#para_heading-"+q)){if(cp_comments_open=="y"){n=jQuery("#para_wrapper-"+q+" .reply_to_para").prop("id");m=n.split("-")[1];o=jQuery("#comment_post_ID").prop("value");addComment.moveFormToPara(m,q,o)}jQuery("#para_heading-"+q).next("div.paragraph_wrapper").show();jQuery.scroll_comments(jQuery("#para_heading-"+q),1);r=jQuery("#textblock-"+q);jQuery.highlight_para(r);jQuery.scroll_page(r);return}})}if(e.match("#respond")){jQuery("h3#para_heading- a.comment_block_permalink").click();return}if(e.match("#")){c=e.split("#")[1];if(c=="edit=true"){return}if(c=="fee-edit-link"){return}h=jQuery("#"+c);if(h.length){jQuery.scroll_page(h)}return}};this.align_content=function(m,j){if(!jQuery("body").hasClass("active-sidebar")||jQuery("body").hasClass("active-nav")){CommentPress.theme.sidebars.show_discuss()}var k,c,e,i,f,h,d,g,b,l;k=jQuery("#para_heading-"+m).next("div.paragraph_wrapper");if(k.length==0){return}c=jQuery("#para_wrapper-"+m+" .commentlist");e=k.find("#respond");i=addComment.getLevel();CommentPress.theme.sidebars.activate_sidebar("comments");f=false;h=k.css("display");if(h=="none"){f=true}jQuery.unhighlight_para();if(m!==""){d=jQuery("#textblock-"+m);if(cp_promote_reading=="1"&&!f){}else{jQuery.highlight_para(d);jQuery.scroll_page(d)}}if(cp_promote_reading=="0"){if(cp_comments_open=="y"){g=jQuery("#comment_post_ID").prop("value");b=jQuery("#para_wrapper-"+m+" .reply_to_para").prop("id");l=b.split("-")[1]}if(!e[0]){if(cp_comments_open=="y"){addComment.moveFormToPara(l,m,g)}}if(e[0]&&!i){if(cp_comments_open=="y"){addComment.moveFormToPara(l,m,g);if(j=="marker"){jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}else{jQuery.scroll_comments(jQuery("#respond"),cp_scroll_speed)}}else{jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}return}if(!e[0]&&c[0]&&!f){if(cp_comments_open=="y"){if(j=="marker"){jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}else{jQuery.scroll_comments(jQuery("#respond"),cp_scroll_speed)}}else{jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}return}if(!f&&c[0]){if(cp_comments_open=="y"){if(j=="marker"){jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}else{jQuery.scroll_comments(jQuery("#respond"),cp_scroll_speed)}}else{jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}return}if(e[0]&&!c[0]&&!f){if(cp_comments_open=="y"){if(j=="marker"){jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}else{jQuery.scroll_comments(jQuery("#respond"),cp_scroll_speed)}}else{jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}return}if(!f&&!c[0]){k.css("display","none");f=true}}k.slideToggle("slow",function(){if(cp_promote_reading=="1"&&f){jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}else{if(f){if(cp_comments_open=="y"){if(j=="marker"){jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}else{jQuery.scroll_comments(jQuery("#respond"),cp_scroll_speed)}}else{jQuery.scroll_comments(jQuery("#para_heading-"+m),cp_scroll_speed)}}}})}};CommentPress.theme.modern={};CommentPress.theme.DOM.init();jQuery("html").addClass("js");jQuery(document).ready(function(a){CommentPress.theme.header.init();CommentPress.theme.navigation.init();CommentPress.theme.content.init();CommentPress.theme.sidebars.init();CommentPress.theme.viewport.init();CommentPress.setup.comments.comment_rollovers();a(document).on("commentpress-post-changed",function(d){var e,c,b;c=document.location.href;e=a(".editor_toggle a");if(e.length==0){return}b=e.attr("href");nonce=b.split("?")[1];c+="?"+nonce;e.attr("href",c)});if(cp_special_page=="1"){a.on_load_scroll_to_comment()}else{CommentPress.theme.viewport.on_load_scroll_to_anchor()}a(document).trigger("commentpress-document-ready")});